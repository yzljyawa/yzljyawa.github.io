
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <title>ARC198C 题解 | yzljyのBlog</title>
    <meta name="author" content="yzljy" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <link rel="icon" href="/images/yzljy.jpg" />
    <link rel="preconnect" href="https://s4.zstatic.net" />
<script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.googleapis.cn" />
<link rel="preconnect" href="https://fonts.gstatic.cn" crossorigin />
<link
    rel="stylesheet"
    href="https://fonts.googleapis.cn/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap"
/>
<script> const mixins = {}; </script>

<script src="https://polyfill.alicdn.com/v3/polyfill.min.js?features=default"></script>


<script src="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>


<script src="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.css" />
<script src="/js/lib/math.js"></script>


<script src="/js/lib/preview.js"></script>









<link rel="stylesheet" href="/css/main.css" />

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>加载过慢请开启缓存 浏览器默认开启</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>YZLJYのBLOG</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;首页</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;关于</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;归档</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;分类</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;标签</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;YZLJYのBLOG</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">首页</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">关于</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">归档</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">分类</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">标签</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div class="article">
    <div>
        <h1>ARC198C 题解</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2025/5/27
        </span>
        
        <span class="category">
            <a href="/categories/OI/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                OI
            </a>
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            
            <span class="tag">
                
                <a href="/tags/%E9%A2%98%E8%A7%A3/" style="color: #979a9a">
                    题解
                </a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <p><a
target="_blank" rel="noopener" href="https://atcoder.jp/contests/arc198/tasks/arc198_c">题目传送门</a></p>
<h2 id="题意简述">题意简述</h2>
<p>有两个长度为 <span class="math inline">\(n\)</span> 的序列 <span
class="math inline">\(A\)</span> 和 <span
class="math inline">\(B\)</span>。<br />
定义换交操作为：</p>
<ul>
<li>选择 <span class="math inline">\((i,j)\)</span> 满足 <span
class="math inline">\(1\le i&lt;j\le n\)</span>，将 <span
class="math inline">\(A_{i}\)</span> 替换为 <span
class="math inline">\(A_{j}-1\)</span>，将 <span
class="math inline">\(A_{j}\)</span> 替换为 <span
class="math inline">\(A_{i}+1\)</span>。</li>
</ul>
<p>问能否在 <span class="math inline">\(31000\)</span> 次换交操作内将
<span class="math inline">\(A\)</span> 变成 <span
class="math inline">\(B\)</span>，若可行，并输出任意一种方案。</p>
<h2 id="思路">思路</h2>
<p>首先，我们观察到 <span
class="math inline">\(A_{i}+A_{j}=(A_{j}-1)+(A_{i}+1)\)</span>。因此进行换交操作后，<span
class="math inline">\(A\)</span> 数组的和是不会发生改变的。<br />
那么如果在最开始，<span class="math inline">\(A\)</span>
数组的和<strong>不等于</strong> <span class="math inline">\(B\)</span>
数组的和，那么一定无解。</p>
<p>另外，我们发现，对于一个数 <span
class="math inline">\(A_{i}\)</span>，其往前交换几次，数字就会减少多少，而往后交换几次，数字就会增大多少。</p>
<p>对于这种将某种状态，变成另一种状态的构造题，常见的做法是定义一种中间状态
<span class="math inline">\(M\)</span>，先将 <span
class="math inline">\(A\)</span> 变成 <span
class="math inline">\(M\)</span>，再将 <span
class="math inline">\(M\)</span> 变成 <span
class="math inline">\(B\)</span>。对于前者直接构造，对于后者，可以倒过来从
<span class="math inline">\(B\)</span> 变成 <span
class="math inline">\(M\)</span>，再逆序输出操作即可。<br />
那么这道题可以这么做吗？<br />
答案是可行的，虽然题目要求中钦定了 <span
class="math inline">\(i&lt;j\)</span>，但是我们来模拟一下。对于 <span
class="math inline">\(a,b\)</span>
这两个数，我们进行两次换交操作，依次可以得到 <span
class="math inline">\(b-1,a+1\)</span> 和 <span
class="math inline">\(a,b\)</span>。因此换交操作是可逆的，只要你保证每次操作的时候，<span
class="math inline">\(i&lt;j\)</span> 即可。</p>
<p>对于中间状态，可以设置为例如 <span
class="math inline">\(1,1,\dots,1,-(n-1)+\sum_{i=1}^{n}A_{i}\)</span>
之类的。<br />
但我的方法并不是这么做的，这里介绍一种不需要中间状态的做法。</p>
<h3 id="正确的交换操作">正确的交换操作</h3>
<p>首先，我们考虑一种简单得多的情况：将 <span
class="math inline">\(A\)</span> 和 <span
class="math inline">\(B\)</span> 从小到大排序后，<span
class="math inline">\(A=B\)</span>。 那么我们只需要枚举 <span
class="math inline">\(B_{i}\)</span>，去找到到匹配的 <span
class="math inline">\(A_{j}\)</span>，将 <span
class="math inline">\(A_{j}\)</span> 与 <span
class="math inline">\(A_{i}\)</span>
进行<strong>交换</strong>即可。这样的话，我们最多进行 <span
class="math inline">\(n\)</span> 次<strong>交换</strong>即可。<br />
我们怎么使用换交操作，做到交换呢？</p>
<p>假设我们要将 <span class="math inline">\(A_{i}\)</span> 和 <span
class="math inline">\(A_{j}\)</span>
两个数进行交换。假如只有这两个数，那么可以达到的状态只有 <span
class="math inline">\(A_{j}-1,A_{i}+1\)</span> 和 <span
class="math inline">\(A_{i},A_{j}\)</span>
两种，一般情况下，显然是没法完成交换的。因此我们引入一个临时的数 <span
class="math inline">\(A_{k}\)</span>。</p>
<p>因为钦定了换交操作时 <span
class="math inline">\(i&lt;j\)</span>，所以我们分三种情况。</p>
<ol type="1">
<li><span class="math inline">\(k&lt;i&lt;j\)</span>：我们相当于要让
<span class="math inline">\(A_{i}\)</span>
往前一次，再往后一次，最后到达 <span
class="math inline">\(A_{j}\)</span> 的位置。<br />
那么我们只需要先将 <span class="math inline">\(A_{k}\)</span> 和 <span
class="math inline">\(A_{i}\)</span> 换交，得到 <span
class="math inline">\(A_{i}-1,A_{k}+1,A_{j}\)</span>。<br />
然后将 <span class="math inline">\(A_{i}-1\)</span> 和 <span
class="math inline">\(A_{j}\)</span> 换交，得到 <span
class="math inline">\(A_{j}-1,A_{k}+1,A_{i}\)</span>。<br />
最后将 <span class="math inline">\(A_{j}-1\)</span> 和 <span
class="math inline">\(A_{k}+1\)</span> 换交，即可得到 <span
class="math inline">\(A_{k},A_{j},A_{i}\)</span>。<br />
</li>
<li><span
class="math inline">\(i&lt;j&lt;k\)</span>：类似上一种情况的分析，可行的步骤如下：<br />
将 <span class="math inline">\(A_{i}\)</span> 和 <span
class="math inline">\(A_{k}\)</span> 换交，得到 <span
class="math inline">\(A_{k}-1,A_{j},A_{i}+1\)</span>。<br />
再将 <span class="math inline">\(A_{j}\)</span> 和 <span
class="math inline">\(A_{i}+1\)</span> 换交，得到 <span
class="math inline">\(A_{k}-1,A_{i},A_{j}+1\)</span>。<br />
最后将 <span class="math inline">\(A_{k}-1\)</span> 和 <span
class="math inline">\(A_{j}+1\)</span> 换交，即可得到 <span
class="math inline">\(A_{j},A_{i},A_{k}\)</span>。<br />
</li>
<li><span
class="math inline">\(i&lt;k&lt;j\)</span>：这种情况很少会出现，当且仅当
<span class="math inline">\(i=1\)</span> 且 <span
class="math inline">\(j=n\)</span>
是会出现。手玩一下可以发现不能像前两种方法一样处理。但是我们可以转化，不妨我们先交换
<span class="math inline">\(A_{k}\)</span> 和 <span
class="math inline">\(A_{j}\)</span>，再交换 <span
class="math inline">\(A_{i}\)</span> 和 <span
class="math inline">\(A_{j}\)</span>，最后再交换 <span
class="math inline">\(A_{i}\)</span> 和 <span
class="math inline">\(A_{k}\)</span>，这样用 <span
class="math inline">\(9\)</span> 步实现了交换 <span
class="math inline">\(A_{i}\)</span> 和 <span
class="math inline">\(A_{j}\)</span>。<br />
实际上，在思考时，我发现了一种 <span class="math inline">\(5\)</span>
步的方法，具体步骤如下：<br />
<span class="math inline">\(A_{i}\)</span> 与 <span
class="math inline">\(A_{j}\)</span> 换交，得到 <span
class="math inline">\(A_{j}-1,A_{k},A_{i}+1\)</span>。<br />
<span class="math inline">\(A_{j}-1\)</span> 与 <span
class="math inline">\(A_{k}\)</span> 换交，得到 <span
class="math inline">\(A_{k}-1,A_{j},A_{i}+1\)</span>。<br />
<span class="math inline">\(A_{j}\)</span> 与 <span
class="math inline">\(A_{i}+1\)</span> 换交，得到 <span
class="math inline">\(A_{k}-1,A_{i},A_{j}+1\)</span>。<br />
<span class="math inline">\(A_{k}-1\)</span> 与 <span
class="math inline">\(A_{i}\)</span> 换交，得到 <span
class="math inline">\(A_{i}-1,A_{k},A_{j}+1\)</span>。<br />
<span class="math inline">\(A_{i}-1\)</span> 与 <span
class="math inline">\(A_{j}+1\)</span> 换交，得到 <span
class="math inline">\(A_{j},A_{k},A_{i}\)</span>。</li>
</ol>
<p>根据前文，最多会出现 <span class="math inline">\(1\)</span>
次第三种情况，因此对于开头的问题，最多可能的<strong>换交</strong>操作只会有
<span class="math inline">\(3n+2\)</span> 次。<br />
换句话说，我们可以在至多 <span class="math inline">\(3n+2\)</span>
次换交操作下，将一个数组重新排列。</p>
<h3 id="改变权值">改变权值</h3>
<p>我们不妨先将 <span class="math inline">\(A\)</span> 和 <span
class="math inline">\(B\)</span> 从小到大排序，得到 <span
class="math inline">\(A&#39;\)</span> 和 <span
class="math inline">\(B&#39;\)</span>，根据前文，我们只需要将 <span
class="math inline">\(A&#39;\)</span> 变成 <span
class="math inline">\(B&#39;\)</span>，就完成了这道题目。<br />
此时 <span class="math inline">\(A\)</span> 中的数不一定全部等于 <span
class="math inline">\(B\)</span>
中的数，我们需要增加一些数的权值，降低一些数的权值。</p>
<p>我们现在有两个数 <span class="math inline">\(A_{i}\)</span> 和 <span
class="math inline">\(A_{j}\)</span>，我们有两种操作：<br />
操作一：将 <span class="math inline">\(A_{i}\)</span> 变成 <span
class="math inline">\(A_{i}-1\)</span>，将 <span
class="math inline">\(A_{j}\)</span> 变成 <span
class="math inline">\(A_{j}+1\)</span>。<br />
实现过程，我们先将 <span class="math inline">\(A_{i}\)</span> 和 <span
class="math inline">\(A_{j}\)</span>
<strong>交换</strong>，然后再使用一次<strong>换交</strong>操作即可。<br />
操作二：将 <span class="math inline">\(A_{i}\)</span> 变成 <span
class="math inline">\(A_{i}+1\)</span>，将 <span
class="math inline">\(A_{j}\)</span> 变成 <span
class="math inline">\(A_{j}-1\)</span>。<br />
实现过程：我们先将 <span class="math inline">\(A_{i}\)</span> 和 <span
class="math inline">\(A_{j}\)</span> <strong>换交</strong>，得到 <span
class="math inline">\(A_{j}-1\)</span> 和 <span
class="math inline">\(A_{i}+1\)</span>，然后再<strong>交换</strong>即可。</p>
<p>这样，我们在不改变原数的顺序的情况下，完成了改变权值的操作。</p>
<p>实际上，我们也可以通过不断将某个数往前挪和往后挪来实现这一个数的加和减，这也是一种正确的方法，可以尝试自行思考一下。</p>
<h3 id="正解">正解</h3>
<p>根据前文的判断，此时一定有 <span
class="math inline">\(\sum_{i=1}^{n}A_{i}=\sum_{i=1}^{n}B_{i}\)</span>。并且需要降低的权值的和是等于需要增加的权值的，并且我们现在是两个有序的数组，那么我们不妨使用双指针来实现。<br />
假如 <span class="math inline">\(A&#39;_{l}&gt;B&#39;_{l}\)</span> 或者
<span
class="math inline">\(A&#39;_{r}&lt;B&#39;_{r}\)</span>，那么我们用前面的操作一。<br />
假如 <span class="math inline">\(A&#39;_{l}&lt;B&#39;_{l}\)</span> 或者
<span
class="math inline">\(A&#39;_{r}&gt;B&#39;_{r}\)</span>，那么我们用前面的操作二。<br />
假如 <span
class="math inline">\(A&#39;_{l}=B&#39;_{l}\)</span>，那么我们将 <span
class="math inline">\(l\)</span> 往右挪动。<br />
假如 <span
class="math inline">\(A&#39;_{r}=B&#39;_{r}\)</span>，那么我们将 <span
class="math inline">\(r\)</span> 往左挪动。<br />
当 <span class="math inline">\(l=r\)</span>
的时候，我们便完成了任务。</p>
<p>我们来计算一下所需的换交次数。<br />
首先是从 <span class="math inline">\(A\)</span> 变成 <span
class="math inline">\(A&#39;\)</span> 以及从 <span
class="math inline">\(B&#39;\)</span> 变成 <span
class="math inline">\(B\)</span>，这个需要至多 <span
class="math inline">\(6n+4\)</span> 次操作。<br />
接下来是从 <span class="math inline">\(A&#39;\)</span> 变成 <span
class="math inline">\(B&#39;\)</span>。因为和相等，两个数组均有序，双指针使得我们相当于是两边一起处理，所以可能的最大需要调整次数为
<span class="math inline">\(\dfrac{n}{2}V\)</span>，所需的换交次数至多为
<span
class="math inline">\(4\times\dfrac{n}{2}V+2V=2nV+2V\)</span>。<br />
两者加一起得到 <span class="math inline">\(2nV+2V+6n+4\)</span>，因为
<span class="math inline">\(n\)</span> 和 <span
class="math inline">\(V\)</span> 同阶，所以也就是 <span
class="math inline">\(2n^2+8n+4\)</span>，最大也就是当 <span
class="math inline">\(n=100\)</span> 时，值为 <span
class="math inline">\(20804\)</span>，轻松通过。</p>
<h2 id="一处细节">一处细节</h2>
<p>发现我们前面的所有操作都基于存在一个临时的位置 <span
class="math inline">\(k\)</span>，那么当 <span
class="math inline">\(n=2\)</span> 时，上述方法都不管用。<br />
但是因为在同一对 <span class="math inline">\((i,j)\)</span>
进行两次换交操作会恢复原样，所以 <span
class="math inline">\(n=2\)</span> 时只会有 <span
class="math inline">\(A_{1},A_{2}\)</span> 和 <span
class="math inline">\(A_{2}-1,A_{1}+1\)</span> 两种情况。直接和 <span
class="math inline">\(B\)</span> 比较一下即可。</p>
<h2 id="代码">代码</h2>
<pre class="cpp"><code>// Problem: C - Error Swap
// Contest: AtCoder - AtCoder Regular Contest 198 (Div. 2)
// URL: https://atcoder.jp/contests/arc198/tasks/arc198_c
// Memory Limit: 1024 MB
// Time Limit: 2000 ms
// 
// Powered by CP Editor (https://cpeditor.org)

#include&lt;bits/stdc++.h&gt;
using namespace std;
const int MAXN=1e5+10;
const int mod1=1e9+7;
const int mod2=998244353;
const int inf_int=0x7f7f7f7f;
const long long inf_long=0x7f7f7f7f7f7f7f7f;
const double eps=1e-9;
char Buf[1&lt;&lt;23],*P1=Buf,*P2=Buf;
#define getchar() (P1==P2&amp;&amp;(P2=(P1=Buf)+fread(Buf,1,1&lt;&lt;23,stdin),P1==P2)?EOF:*P1++)
template&lt;typename type&gt;
inline void read(type &amp;x)&#123;
    x=0;
    bool f=false;
    char ch=getchar();
    while(ch&lt;&#39;0&#39;||ch&gt;&#39;9&#39;) f|=ch==&#39;-&#39;,ch=getchar();
    while(ch&gt;=&#39;0&#39;&amp;&amp;ch&lt;=&#39;9&#39;) x=x*10+(ch^48),ch=getchar();
    if(f) x=-x;
&#125;
template&lt;typename type,typename... args&gt;
inline void read(type &amp;x,args&amp;... y)&#123;
    read(x),read(y...);
&#125;

int n,a[MAXN],b[MAXN],A[MAXN],B[MAXN],suma,sumb;
vector&lt;pair&lt;int,int&gt; &gt; ans;

//z x y
//x-1 z+1 y
//y-1 z+1 x
//z y x

//x z y
//y-1 z x+1
//z-1 y x+1
//z-1 x y+1
//x-1 z y+1
//y z x

//x y z
//z-1 y x+1
//z-1 x y+1
//y x z

void swap(int x,int y,int z)&#123;
    if(z&lt;x)&#123;
        ans.push_back(make_pair(x,z));
        ans.push_back(make_pair(z,y));
        ans.push_back(make_pair(x,z));
    &#125;
    else if(z&lt;y)&#123;
        ans.push_back(make_pair(x,y));
        ans.push_back(make_pair(x,z));
        ans.push_back(make_pair(z,y));
        ans.push_back(make_pair(x,z));
        ans.push_back(make_pair(x,y));
    &#125;
    else&#123;
        ans.push_back(make_pair(x,z));
        ans.push_back(make_pair(y,z));
        ans.push_back(make_pair(x,z));
    &#125;
    swap(a[x],a[y]);
&#125;

signed main()&#123;
    read(n);
    for(int i=1;i&lt;=n;i++) read(a[i]),suma+=a[i],A[i]=a[i];
    for(int i=1;i&lt;=n;i++) read(b[i]),sumb+=b[i],B[i]=b[i];
    if(suma!=sumb)&#123;
        cout&lt;&lt;&quot;No\n&quot;;
        return 0;
    &#125;
    if(n==2)&#123;
        bool state=false;
        if(a[1]==b[1]) state=true;
        if(!state)&#123;
            ans.push_back(make_pair(1,2));
            swap(a[1],a[2]);
            a[1]--;a[2]++;
            if(a[1]==b[1]) state=true;
            if(!state)&#123;
                cout&lt;&lt;&quot;No\n&quot;;
                return 0;
            &#125;
        &#125;
    &#125;
    else&#123;
        sort(A+1,A+n+1);sort(B+1,B+n+1);
        for(int i=1;i&lt;=n;i++)&#123;
            for(int j=i;j&lt;=n;j++)&#123;
                if(A[i]==a[j])&#123;
                    if(i==j) break;
                    swap(i,j,i==1?(j==n?2:n):1);
                    break;
                &#125;
            &#125;
        &#125;
        for(int l=1,r=n;l&lt;r;)&#123;
            while(a[l]==B[l]&amp;&amp;l&lt;=n) l++;
            while(a[r]==B[r]&amp;&amp;r&gt;=1) r--;
            while(a[l]&lt;B[l]||a[r]&gt;B[r])&#123;
                ans.push_back(make_pair(l,r));
                swap(a[l],a[r]);
                a[l]--;a[r]++;
                swap(l,r,l==1?(r==n?2:n):1);
            &#125;
            while(a[l]==B[l]&amp;&amp;l&lt;=n) l++;
            while(a[r]==B[r]&amp;&amp;r&gt;=1) r--;
            while(a[l]&gt;B[l]||a[r]&lt;B[r])&#123;
                swap(l,r,l==1?(r==n?2:n):1);
                ans.push_back(make_pair(l,r));
                swap(a[l],a[r]);
                a[l]--;a[r]++;
            &#125;
        &#125;
        for(int i=1;i&lt;=n;i++)&#123;
            for(int j=i;j&lt;=n;j++)&#123;
                if(b[i]==a[j])&#123;
                    if(i==j) break;
                    swap(i,j,i==1?(j==n?2:n):1);
                    break;
                &#125;
            &#125;
        &#125;
    &#125;
    cout&lt;&lt;&quot;Yes\n&quot;;
    for(int i=0;i&lt;ans.size();i++) if(ans[i].first&gt;ans[i].second) swap(ans[i].first,ans[i].second);
    cout&lt;&lt;ans.size()&lt;&lt;endl;
    for(int i=0;i&lt;ans.size();i++) cout&lt;&lt;ans[i].first&lt;&lt;&quot; &quot;&lt;&lt;ans[i].second&lt;&lt;endl;
    return 0;
&#125;</code></pre>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
    </div>
    
    
    
    
    <div id="comment">
        <div id="giscus-container" class="giscus"></div>
    </div>
    
    
    
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2024 - 2025 yzljyのBlog
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;yzljy
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>
    
    
<script
    src="https://giscus.app/client.js"
    data-repo="yzljyawa/yzljyawa.github.io"
    data-repo-id="R_kgDOMbAUfA"
    data-category="Announcements"
    data-category-id="DIC_kwDOMbAUfM4CiQYe"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="preferred_color_scheme"
    data-lang="zh-CN"
    crossorigin
    async
></script>





    
</body>
</html>
